
# NLP

Continued work loading an edition of the Equity and then doing NER on it based on https://rpubs.com/lmullen/nlp-chapter

## Idea: Use the entities from NER to make another finding aid.

### Need a database to record information that can be migrated to the web later.

Selected MySql given I can run it locally on my machine and then move it to my website (and it's free)

Installed MySql locally.

## Connect R to MySQL to save data

Used these instructions

https://www.r-bloggers.com/accessing-mysql-through-r/

I'm having a database result set issue with the syntax I'm using.  I will have to pick this up later

     Error in .local(conn, statement, ...) : 
       could not run statement: Duplicate entry '83471_1883-06-14' for key 'sourcedocumentname_UNIQUE'
     In addition: Warning messages:
     1: In if (dbRows[[1]] == 0) { :
       the condition has length > 1 and only the first element will be used
     2: closing unused connection 4 (equityurls_test2.txt) 
     3: closing unused connection 3 (equityurls_test2.txt) 
     4: In if (dbRows[[1]] == 0) { :
       the condition has length > 1 and only the first element will be used

17 Sept 2017 - I was able to solve this, I am rusty on SQL.  I am now challenged on how to use db log in credentials in a file and not have them in my code.  I see how to do this, but can't make it work yet.

## Deal with entities:

sort(unique(entities(equityEdition_doc, kind = "location")))

Interesting Error.  I ran through the editions of 1970 and I got an error:

     Error in .jnew("opennlp.tools.namefind.TokenNameFinderModel", .jcast(.jnew("java.io.FileInputStream",  : 
     java.lang.OutOfMemoryError: GC overhead limit exceeded


MySQL error inserting some entities due to special characters due to bad OCR results

      Error in .local(conn, statement, ...) : 
         could not run statement: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ''V.\'' at line 1 

I am coping with this with some gsub to replace the characters that are causing problems for SQL
